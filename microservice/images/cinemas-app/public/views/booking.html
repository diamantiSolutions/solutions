<div class="col align-self-center" style="margin-top: 20px;"  ng-init="cinemaShow();bookingTicket();"> 
  <div class=" row" style="padding-top: 20px">
    <div class="row" >
      
      <div class="movie-card col-md-4 col-xs-6 col-md-offset-4 col-xs-offset-4" style="box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.08);">
        <!-- <div class="movie-header manOfSteel"> -->
      </div><!--movie-header-->
      
      <section  ng-if="paidFlag == 0">


  <div class=" row" style="padding-top: 20px">
    <div class="card"   style="width: 100rem;">
      <div class="card-body">
	<div class="row">
	  <div class="col-md-4">
	    <img src="img/dummy.png" style="width: 200px; height: 200px;" alt="Card image cap">
	  </div>
	  <div class="col-md-8">
	    <h2 class="display-2">{{movieData.title}}</h2>
	    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc diam purus, tincidunt non efficitur et, rhoncus in metus.</p>
	  </div>
	</div>
      </div>
    </div>
  </div>


	
        <div class="movie-content" style=" padding-botton:10px;">
          <div class="movie-content-header">
            <a href="#">
              <h3 class="movie-title">{{movieData.title}}</h3>
            </a>
            <div class="imax-logo">{{movieData.format}}</div> 
          </div>
          <div class="movie-info">
            <div class="info-section">
              <label>Date & Time</label>
              <span>Sun 8 Sept - {{bookData.schedule}}PM</span>
            </div><!--date,time-->
            <div class="info-section">
              <label>Screen</label>
              <span>{{bookData.cinemaRoom}}</span>
            </div><!--screen-->
            <div class="info-section">
              <label>Row</label>
              <span>F</span>
            </div><!--row-->
            <div class="info-section">
              <label>Seat</label>
              <span ng-repeat="seats in bookData.seats">{{seats}}</span>
            </div><!--seat-->
          </div>
	</div>



	
	<div class="card text-left text-white bg-info ">
	  <legend class="text-info" ><h4>payment detail</h4></legend>
	  <div class="card-body">
	    <div class="row">
	      <div class="col-md-6 mb-3">
		<label class="control-label">First Name:</label>
                <input type="text" ng-model="inputNameF" class="form-control" required="required">
	      </div>
	      <div class="col-md-6 mb-3">
		<label class="control-label">last Name:</label>
                <input type="text" ng-model="inputNameL" class="form-control" required="required">
	      </div>
	    </div>
	    <div class="row">
	      <div class="col-md-12 mb-12">		    
		<label class="control-label">credit card number</label>
                <input type="text" ng-model="inputCC" class="form-control" required="required" value="DiamantiSales">
	      </div>
	      
	    </div>
	    <div class="row">
	      <div class="col-md-4 mb-4">		    
		<label class="control-label">CVC</label>
                <input type="text" ng-model="inputCVC" class="form-control" required="required" value="DiamantiSales">
	      </div>
	      
	      <div class="col-md-4 mb-4">
		<label class="control-label">exp Month </label>
		<select class="form-control form-control-lg" ng-model="selectCCM">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                  <option>9</option>
                  <option>10</option>
                  <option>11</option>
                  <option>12</option>
		</select>
	      </div>
		    
	      <div class="col-md-4 mb-4">
		<label class="control-label">exp Month </label>
		<select class="form-control form-control-lg" ng-model="selectCCY">
                  <option>2018</option>
                  <option>2019</option>
                  <option>2020</option>
                  <option>2021</option>
		</select>
	      </div>
	      
	    </div>
	    <div class="row">
	      <div class="col-md-12 col-sm-12 col-xs-12" style="padding-top:10px; padding-botton:10px;">
		<!--
		    <button class="btn btn-info btn-block">Pay Now {{bookData.totalAmount}}</button>
		    -->
		<button class="btn btn-info btn-block" ng-click="payNow()">Pay $10 </button>
              </div>
	    </div>
	  </div>
	</div>

      </section>
	      
      <section  ng-if="paidFlag == 1">
	
	<div class="alert alert-success" role="alert">
	  <h3>Success!</h3>
	  Thanks for purchasing your movie ticket. your reference number is:<h3> {{paidData._id}}</h3>
	</div>
	
        <div class="movie-content" style=" padding-botton:10px;">
          <div class="movie-content-header">
            <a href="#">
              <h3 class="movie-title">{{paidData.movie.title}}</h3>
            </a>
            <div class="imax-logo">{{paidData.movie.format}}</div> 
          </div>
          <div class="movie-info">
            <div class="info-section">
              <label>Date & Time</label>
              <span> {{paidData.movie.schedule}}PM</span>
            </div><!--date,time-->
            <div class="info-section">
              <label>Price</label>
              <span>{{paidData.totalAmount}}</span>
            </div><!--screen-->
            <div class="info-section">
              <label>Theater</label>
              <span>{{paidData.cinema.name}},{{paidData.city}}</span>
            </div><!--screen-->
            <div class="info-section">
              <label>Screen</label>
              <span>{{paidData.cinema.room}}</span>
            </div><!--screen-->
            <div class="info-section">
              <label>Seat</label>
              <span ng-repeat="seats in bookData.seats">{{paidData.cinema.seats}}</span>
            </div><!--seat-->
          </div>
      </section>
		    


      <section  ng-if="paidFlag == 2">


	<div class="alert alert-danger" role="alert">
	  <h3>Error in purchasing ticket!</h3>
	  {{paidData}}
	</div>

      </section>

      </div>
<!--



        userName: user.name + ' ' + user.lastName,
        number: user.creditCard.number,
        cvc: user.creditCard.cvc,
        exp_month: user.creditCard.exp_month,
        exp_year: user.creditCard.exp_year,

		    amount: booking.totalAmount,
        description: `
          Tickect(s) for movie ${booking.movie},
          with seat(s) ${booking.seats.toString()}
          at time ${booking.schedule}`
      }
  -->

    </div><!--movie-content-->
  </div>
</div>

