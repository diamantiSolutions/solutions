apiVersion: v1
kind: ReplicationController
metadata:
  name: nginx-plus-ingress-rc1
  labels:
    app: nginx-plus-ingress
spec:
  replicas: 1
  selector:
    app: nginx-plus-ingress
  template:
    metadata:
      labels:
        app: nginx-plus-ingress
#      annotations:
#        diamanti.com/endpoint0: '{"network":"default","perfTier":"high"}'
    spec:
      containers:
      - image: <yourOwnNginxPlusIngressImage:version>
        imagePullPolicy: IfNotPresent
        name: nginx-plus-ingress
        # Uncomment the lines below to enable extensive logging and/or customization of
        # NGINX configuration with configmaps
        args:
          - -nginx-plus
         # - -v=3
         #- -nginx-configmaps=default/nginx-lb-config
---
apiVersion: v1
kind: Service
metadata:
  name: nginx-ha
  labels:
    app: nginx
spec:
  clusterIP: None
  ports:
  - port: 443
    targetPort: 443
    protocol: TCP
    name: https
  selector:
    app: nginx-plus-ingress
